name: Import GTFS Data
on:
  push:
    branches: 
      - github-actions
    # paths:
    #   - gtfs
jobs:
  setup-repo:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Setup Node environment
        uses: actions/setup-node@v3
        with:
          node-version: '14'

  download-gtfs:
    runs-on: ubuntu-latest
    steps:
      - name: Download Metro data
        run: |
          wget http://transitdata.cityofmadison.com/GTFS/mmt_gtfs.zip
          unzip mmt_gtfs.zip

  inspect-date:
    runs-on: ubuntu-latest
    steps:
      - name: Inspect calendar
        run: echo "inspect..."

  run-imports:
    runs-on: ubuntu-latest
    steps:
      - name: import routes
        run: npm run route-import
      - name: import trips
        run: echo "npm run route-import"
      - name: import stops
        run: echo "npm run route-import"


